import { PlatformType, Plugin } from '@botmate/server';

<% if (platform === 'telegram') { -%>
import { Bot } from 'grammy';
<% } -%>

export class <%=className%> extends Plugin {
  rpc = getRPC(this);
  displayName = '<%=name%>';
  platformType = PlatformType.<%=platformType%>;

  async load() {
    <% if (platform === 'telegram') { -%>
    const bot = this.bot.instance<Bot>();
    bot.command('start', async (ctx) => {
      await ctx.reply('Hello, world!');
    });
    <% } -%>
  }
}

const getRPC = (plugin: <%=className%>) => ({
  // Add your RPC methods here
});

export type RPC = ReturnType<typeof getRPC>;
